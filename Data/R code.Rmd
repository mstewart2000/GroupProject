---
title: "Untitled"
author: "Tianyi Zuo"
date: "2022/3/18"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r message=FALSE}
library(ggplot2)
library(ape)
library(ggtree)
library(vegan)
library(dplyr)
library(reshape2)
library(data.table)

```

```{r}
MBData<-read.csv("./BacteriaCommunityMatrix.csv")
SBData<-read.csv("./BacteriaSampleData.csv")
NBData<-read.csv("./BacteriaTaxInfo.csv")
GData<-read.csv("./GreenhouseData.csv")
```

```{r}
MatrixA <- select(MBData, X,starts_with("Ammophila"))
MatrixA <- MatrixA[grep("A_", MatrixA$X), ]

MatrixB <- select(MBData, X,starts_with("Baccharis"))
MatrixB <- MatrixB[grep("B_", MatrixB$X), ]

MatrixI <- select(MBData, X,starts_with("Iceplant"))
MatrixI <- MatrixI[grep("I_", MatrixI$X), ]

MatrixL <- select(MBData, X,starts_with("Lupine"))
MatrixL <- MatrixL[grep("L_", MatrixL$X), ]

rownames(MatrixA) <-MatrixA$X
MatrixA<-select(MatrixA,-X)
```

```{r}
Dist<- vegdist(MatrixA,method="bray",binary=F)
DistMat<-as.matrix(Dist)
PDat<-melt(DistMat)

DistMat[sample(x = 1:length(DistMat), size = 5)] <- NA

set.seed(12138)
NMDSdat<-metaMDS(Dist,k=2,trymax = 100)
```


